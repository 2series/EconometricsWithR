<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Using R for Introduction to Econometrics</title>
  <meta name="description" content="Using <tt>R</tt> for Introduction to Econometrics">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Using R for Introduction to Econometrics" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="Emwikts1970/URFITE-Bookdown" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Using R for Introduction to Econometrics" />
  
  
  

<meta name="author" content="Christoph Hanck, Martin Arnold, Alexander Gerber and Martin Schmelzer">


<meta name="date" content="2018-07-16">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="pt.html">
<link rel="next" href="probability-distributions-of-continuous-random-variables.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script src="js/hideOutput.js"></script>
<script type="text/javascript" src="MathJax-2.7.2/MathJax.js?config=default"></script>

 <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        extensions: ["tex2jax.js", "TeX/AMSmath.js"],
        tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]},
        jax: ["input/TeX","output/CommonHTML"]
      });
      MathJax.Hub.processSectionDelay = 0;
  </script>

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-110299877-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-110299877-1');
</script>

<!-- open review block -->

<script async defer src="https://hypothes.is/embed.js"></script>

<!-- datacamp-light-latest -->

<script src="https://cdn.datacamp.com/datacamp-light-latest.min.js"></script>


<!-- <script src="js/d3.v3.min.js"></script>
<script src="js/leastsquares.js"></script>
<script src="js/d3functions.js"></script>
<script src="d3.slider.js"></script>
<script src="slrm.js"></script> -->


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; background-color: #f8f8f8; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
pre, code { background-color: #f8f8f8; }
code > span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code > span.dt { color: #204a87; } /* DataType */
code > span.dv { color: #0000cf; } /* DecVal */
code > span.bn { color: #0000cf; } /* BaseN */
code > span.fl { color: #0000cf; } /* Float */
code > span.ch { color: #4e9a06; } /* Char */
code > span.st { color: #4e9a06; } /* String */
code > span.co { color: #8f5902; font-style: italic; } /* Comment */
code > span.ot { color: #8f5902; } /* Other */
code > span.al { color: #ef2929; } /* Alert */
code > span.fu { color: #000000; } /* Function */
code > span.er { color: #a40000; font-weight: bold; } /* Error */
code > span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #000000; } /* Constant */
code > span.sc { color: #000000; } /* SpecialChar */
code > span.vs { color: #4e9a06; } /* VerbatimString */
code > span.ss { color: #4e9a06; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #000000; } /* Variable */
code > span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code > span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code > span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code > span.ex { } /* Extension */
code > span.at { color: #c4a000; } /* Attribute */
code > span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code > span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="toc.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">URFITE</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="a-very-short-introduction-to-r-and-rstudio.html"><a href="a-very-short-introduction-to-r-and-rstudio.html"><i class="fa fa-check"></i><b>1.1</b> A Very Short Introduction to <tt>R</tt> and <em>RStudio</em></a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="pt.html"><a href="pt.html"><i class="fa fa-check"></i><b>2</b> Probability Theory</a><ul>
<li class="chapter" data-level="2.1" data-path="random-variables-and-probability-distributions.html"><a href="random-variables-and-probability-distributions.html"><i class="fa fa-check"></i><b>2.1</b> Random Variables and Probability Distributions</a><ul>
<li class="chapter" data-level="" data-path="random-variables-and-probability-distributions.html"><a href="random-variables-and-probability-distributions.html#probability-distributions-of-discrete-random-variables"><i class="fa fa-check"></i>Probability Distributions of Discrete Random Variables</a></li>
<li class="chapter" data-level="" data-path="random-variables-and-probability-distributions.html"><a href="random-variables-and-probability-distributions.html#bernoulli-trials"><i class="fa fa-check"></i>Bernoulli Trials</a></li>
<li class="chapter" data-level="" data-path="random-variables-and-probability-distributions.html"><a href="random-variables-and-probability-distributions.html#expected-value-mean-and-variance"><i class="fa fa-check"></i>Expected Value, Mean and Variance</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="probability-distributions-of-continuous-random-variables.html"><a href="probability-distributions-of-continuous-random-variables.html"><i class="fa fa-check"></i><b>2.2</b> Probability Distributions of Continuous Random Variables</a><ul>
<li class="chapter" data-level="" data-path="probability-distributions-of-continuous-random-variables.html"><a href="probability-distributions-of-continuous-random-variables.html#the-normal-distribution"><i class="fa fa-check"></i>The Normal Distribution</a></li>
<li class="chapter" data-level="" data-path="probability-distributions-of-continuous-random-variables.html"><a href="probability-distributions-of-continuous-random-variables.html#the-chi-squared-distribution"><i class="fa fa-check"></i>The Chi-Squared Distribution</a></li>
<li class="chapter" data-level="" data-path="probability-distributions-of-continuous-random-variables.html"><a href="probability-distributions-of-continuous-random-variables.html#thetdist"><i class="fa fa-check"></i>The Student t Distribution</a></li>
<li class="chapter" data-level="" data-path="probability-distributions-of-continuous-random-variables.html"><a href="probability-distributions-of-continuous-random-variables.html#the-f-distribution"><i class="fa fa-check"></i>The F Distribution</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="RSATDOSA.html"><a href="RSATDOSA.html"><i class="fa fa-check"></i><b>2.3</b> Random Sampling and the Distribution of Sample Averages</a><ul>
<li class="chapter" data-level="" data-path="RSATDOSA.html"><a href="RSATDOSA.html#mean-and-variance-of-the-sample-mean"><i class="fa fa-check"></i>Mean and Variance of the Sample Mean</a></li>
<li class="chapter" data-level="" data-path="RSATDOSA.html"><a href="RSATDOSA.html#large-sample-approximations-to-sampling-distributions"><i class="fa fa-check"></i>Large Sample Approximations to Sampling Distributions</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="exercises.html"><a href="exercises.html"><i class="fa fa-check"></i><b>2.4</b> Exercises</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Using <tt>R</tt> for Introduction to Econometrics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div class = rmdreview>
This book is in <b>Open Review</b>. We want your feedback to make the book better for you and other students. You may annotate some text by <span style="background-color: #3297FD; color: white">selecting it with the cursor</span> and then click the <i class="h-icon-annotate"></i> on the pop-up menu. You can also see the annotations of others: click the <i class="h-icon-chevron-left"></i> in the upper right hand corner of the page <i class="fa fa-arrow-circle-right  fa-rotate-315" aria-hidden="true"></i>
</div>
<div id="random-variables-and-probability-distributions" class="section level2">
<h2><span class="header-section-number">2.1</span> Random Variables and Probability Distributions</h2>
<p>For a start, let us briefly review some basic concepts of probability theory.</p>
<ul>
<li>The mutually exclusive results of a random process are called the <em>outcomes</em>. ‘Mutually exclusive’ means that only one of the possible outcomes is observed.</li>
<li>We refer to the <em>probability</em> of an outcome as the proportion of the time that the outcome occurs in the long run, that is if the experiment is repeated very often.</li>
<li>The set of all possible outcomes of a random variable is called the <em>sample space</em>.</li>
<li>An <em>event</em> is a subset of the sample space and consists of one or more outcomes.</li>
</ul>
<p>These ideas are unified in the concept of a <em>random variable</em> which is a numerical summary of random outcomes. Random variables can be <em>discrete</em> or <em>continuous</em>.</p>
<ul>
<li>Discrete random variables have discrete outcomes, e.g. <span class="math inline">\(0\)</span> and <span class="math inline">\(1\)</span>.</li>
<li>A continuous random variable takes on a continuum of possible values.</li>
</ul>
<div id="probability-distributions-of-discrete-random-variables" class="section level3 unnumbered">
<h3>Probability Distributions of Discrete Random Variables</h3>
<p>A typical example for a discrete random variable <span class="math inline">\(D\)</span> is the result of a die roll: in terms of a random experiment this is nothing but randomly selecting a sample of size <span class="math inline">\(1\)</span> from a set of numbers which are mutually exclusive outcomes. Here, the sample space is <span class="math inline">\(\{1,2,3,4,5,6\}\)</span> and we can think of many different events, e.g. ‘the observed outcome lies between <span class="math inline">\(2\)</span> and <span class="math inline">\(5\)</span>’.</p>
<p>A basic function to draw random samples from a specified set of elements is the the function <tt>sample()</tt>, see <code>?sample</code>. We can use it to simulate the random outcome of a die roll. Let’s role the die!</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dv">1</span>) </code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>The probability distribution of a discrete random variable is the list of all possible values of the variable and their probabilities which sum to <span class="math inline">\(1\)</span>. The cumulative probability distribution function states the probability that the random variable is less than or equal to a particular value.</p>
<p>For the die roll, this is straightforward to summarize in a table:</p>
<table>
<thead>
<tr class="header">
<th>Outcome</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Probability distribution</td>
<td>1/6</td>
<td>1/6</td>
<td>1/6</td>
<td>1/6</td>
<td>1/6</td>
<td>1/6</td>
</tr>
<tr class="even">
<td>Cumulative probability distribution</td>
<td>1/6</td>
<td>2/6</td>
<td>3/6</td>
<td>4/6</td>
<td>5/6</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>We can easily plot both functions using R. Since the probability equals <span class="math inline">\(1/6\)</span> for each outcome, we set up the vector <tt>probability</tt> by using the function <tt>rep()</tt> which replicates a given value a specified number of times.</p>
<div class="unfolded">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># generate the vector of probabilities </span>
probability &lt;-<span class="st"> </span><span class="kw">rep</span>(<span class="dv">1</span><span class="op">/</span><span class="dv">6</span>, <span class="dv">6</span>) 

<span class="co"># plot the probabilites </span>
<span class="kw">plot</span>(probability, 
     <span class="dt">xlab =</span> <span class="st">&quot;outcomes&quot;</span>, 
     <span class="dt">main =</span> <span class="st">&quot;Probability Distribution&quot;</span>
     ) </code></pre></div>
<p><img src="URFITE_files/figure-html/unnamed-chunk-13-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<p>For the cumulative probability distribution we need the cumulative probabilities i.e. we need the cumulative sums of the vector <tt>probability</tt>. These sums can be computed using <tt>cumsum()</tt>.</p>
<div class="unfolded">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#generate the vector of cumulative probabilities </span>
cum_probability &lt;-<span class="st"> </span><span class="kw">cumsum</span>(probability) 

<span class="co"># plot the probabilites </span>
<span class="kw">plot</span>(cum_probability, 
     <span class="dt">xlab =</span> <span class="st">&quot;outcomes&quot;</span>, 
     <span class="dt">main =</span> <span class="st">&quot;Cumulative Probability Distribution&quot;</span>
     ) </code></pre></div>
<p><img src="URFITE_files/figure-html/unnamed-chunk-14-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="bernoulli-trials" class="section level3 unnumbered">
<h3>Bernoulli Trials</h3>
<p>The set of elements from which <tt>sample()</tt> draws outcomes does not have to consist of numbers only. We might as well simulate coin tossing with outcomes <span class="math inline">\(H\)</span> (heads) and <span class="math inline">\(T\)</span> (tails).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sample</span>(<span class="kw">c</span>(<span class="st">&quot;H&quot;</span>, <span class="st">&quot;T&quot;</span>), <span class="dv">1</span>) </code></pre></div>
<pre><code>## [1] &quot;H&quot;</code></pre>
<p>The result of a single coin toss is a <em>Bernoulli</em> distributed random variable i.e. a variable with two possible distinct outcomes.</p>
<p>Imagine you are about to toss a coin <span class="math inline">\(10\)</span> times in a row and wonder how likely it is to end up with a sequence of outcomes like</p>
<p><span class="math display">\[ H \, H \, T \, T \,T \,H \,T \,T \, H \, H .\]</span></p>
<p>This is a typical example of what we call a <em>Bernoulli experiment</em> as it consists of <span class="math inline">\(n=10\)</span> Bernoulli trials that are independent of each other and we are interested in the likelihood of observing <span class="math inline">\(k=5\)</span> successes <span class="math inline">\(H\)</span> that occur with probability <span class="math inline">\(p=0.5\)</span> (assuming a fair coin) in each trial. Note that the order of the outcomes does not matter here.</p>
<p>It is a well known result that the number of successes <span class="math inline">\(k\)</span> in a Bernoulli experiment follows a binomial distribution. We denote this as</p>
<p><span class="math display">\[k \sim B(n,p).\]</span></p>
<p>The probability of observing <span class="math inline">\(k\)</span> successes in the experiment <span class="math inline">\(B(n,p)\)</span> is given by</p>
<p><span class="math display">\[f(k)=P(k)=\begin{pmatrix}n\\ k \end{pmatrix} \cdot p^k \cdot
q^{n-k}=\frac{n!}{k!(n-k)!} \cdot p^k \cdot q^{n-k}\]</span></p>
<p>where <span class="math inline">\(\begin{pmatrix}n\\ k \end{pmatrix}\)</span> means the binomial coefficient.</p>
<p>In <tt>R</tt>, we can solve the problem stated above by means of the function <tt>dbinom()</tt> which calculates the probability of the binomial distribution given the parameters <tt>x</tt>, <tt>size</tt>, and <tt>prob</tt>, see <code>?binom</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dbinom</span>(<span class="dt">x =</span> <span class="dv">5</span>,
       <span class="dt">size =</span> <span class="dv">10</span>,
       <span class="dt">prob =</span> <span class="fl">0.5</span>
       ) </code></pre></div>
<pre><code>## [1] 0.2460938</code></pre>
<p>We conclude that the probability of observing Head <span class="math inline">\(k=5\)</span> times when tossing the coin <span class="math inline">\(n=10\)</span> times is about <span class="math inline">\(24.6\%\)</span>.</p>
<p>Now assume we are interested in <span class="math inline">\(P(4 \leq k \leq 7)\)</span> i.e. the probability of observing <span class="math inline">\(4\)</span>, <span class="math inline">\(5\)</span>, <span class="math inline">\(6\)</span> or <span class="math inline">\(7\)</span> successes for <span class="math inline">\(B(10,0.5)\)</span>. This is easily computed by providing a vector as the argument <tt>x</tt> in our call of <tt>dbinom()</tt> and summing up using <tt>sum()</tt>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">sum</span>(
  <span class="kw">dbinom</span>(<span class="dt">x =</span> <span class="dv">4</span><span class="op">:</span><span class="dv">7</span>, 
         <span class="dt">size =</span> <span class="dv">10</span>, 
         <span class="dt">prob =</span> <span class="fl">0.5</span>
         )
  )</code></pre></div>
<pre><code>## [1] 0.7734375</code></pre>
<p>The probability distribution of a discrete random variable is nothing but a list of all possible outcomes that can occur and their respective probabilities. In the coin tossing example we face <span class="math inline">\(11\)</span> possible outcomes for <span class="math inline">\(k\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set up vector of possible outcomes</span>
k &lt;-<span class="st"> </span><span class="dv">0</span><span class="op">:</span><span class="dv">10</span></code></pre></div>
<p>To visualize the probability distribution function of <span class="math inline">\(k\)</span> we may therefore do the following:</p>
<div class="unfolded">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># assign probabilities</span>
probability &lt;-<span class="st"> </span><span class="kw">dbinom</span>(<span class="dt">x =</span> k,
                      <span class="dt">size =</span> <span class="dv">10</span>, 
                      <span class="dt">prob =</span> <span class="fl">0.5</span>
                      )

<span class="co"># plot outcomes against probabilities</span>
<span class="kw">plot</span>(<span class="dt">x =</span> k, 
     <span class="dt">y =</span> probability,
     <span class="dt">main =</span> <span class="st">&quot;Probability Distribution Function&quot;</span>
     ) </code></pre></div>
<p><img src="URFITE_files/figure-html/unnamed-chunk-19-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<p>In a similar fashion we may plot the cumulative distribution function of <span class="math inline">\(k\)</span> by executing the following code chunk:</p>
<div class="unfolded">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># compute cumulative probabilities</span>
prob &lt;-<span class="st"> </span><span class="kw">cumsum</span>(
              <span class="kw">dbinom</span>(<span class="dt">x =</span> <span class="dv">0</span><span class="op">:</span><span class="dv">10</span>, 
                     <span class="dt">size =</span> <span class="dv">10</span>, 
                     <span class="dt">prob =</span> <span class="fl">0.5</span>
                     )
              )

<span class="co"># plot the cumulative probabilities</span>
<span class="kw">plot</span>(<span class="dt">x =</span> k, 
     <span class="dt">y =</span> prob,
     <span class="dt">main =</span> <span class="st">&quot;Cumulative Distribution Function&quot;</span>
     ) </code></pre></div>
<p><img src="URFITE_files/figure-html/unnamed-chunk-20-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
</div>
<div id="expected-value-mean-and-variance" class="section level3 unnumbered">
<h3>Expected Value, Mean and Variance</h3>
<p>The expected value of a random variable is the long-run average value of its outcomes when the number of repeated trials is large. For a discrete random variable, the expected value is computed as a weighted average of its possible outcomes whereby the weights are the related probabilities. This is formalized in Key Concept 2.1.</p>
<div class="keyconcept">
<h3 class="right">
Key Concept 2.1
</h3>
<h3 class="left">
Expected Value and the Mean
</h3>
<p>
<p>Suppose the random variable <span class="math inline">\(Y\)</span> takes on <span class="math inline">\(k\)</span> possible values, <span class="math inline">\(y_1, \dots, y_k\)</span>, where <span class="math inline">\(y_1\)</span> denotes the first value, <span class="math inline">\(y_2\)</span> denotes the second value, and so forth, and that the probability that <span class="math inline">\(Y\)</span> takes on <span class="math inline">\(y_1\)</span> is <span class="math inline">\(p_1\)</span>, the probability that <span class="math inline">\(Y\)</span> takes on <span class="math inline">\(y_2\)</span> is <span class="math inline">\(p_2\)</span> and so forth. The expected value of <span class="math inline">\(Y\)</span>, <span class="math inline">\(E(Y)\)</span> is defined as</p>
<p><span class="math display">\[ E(Y) = y_1 p_1 + y_2 p_2 + \cdots + y_k p_k = \sum_{i=1}^k y_i p_i \]</span></p>
where the notation <span class="math inline">\(\sum_{i=1}^k y_i p_i\)</span> means “the sum of <span class="math inline">\(y_i\)</span> <span class="math inline">\(p_i\)</span> for <span class="math inline">\(i\)</span> running from <span class="math inline">\(1\)</span> to <span class="math inline">\(k\)</span>”. The expected value of <span class="math inline">\(Y\)</span> is also called the mean of <span class="math inline">\(Y\)</span> or the expectation of <span class="math inline">\(Y\)</span> and is denoted by <span class="math inline">\(\mu_y\)</span>.
</p>
</div>
<p>In the die example, the random variable, <span class="math inline">\(D\)</span> say, takes on <span class="math inline">\(6\)</span> possible values <span class="math inline">\(d_1 = 1, d_2 = 2, \dots, d_6 = 6\)</span>. Assuming a fair die, each of the <span class="math inline">\(6\)</span> outcomes occurs with a probability of <span class="math inline">\(1/6\)</span>. It is therefore easy to calculate the exact value of <span class="math inline">\(E(D)\)</span> by hand:</p>
<p><span class="math display">\[ E(D) = 1/6 \sum_{i=1}^6 d_i = 3.5 \]</span></p>
<p><span class="math inline">\(E(D)\)</span> is simply the average of the natural numbers from <span class="math inline">\(1\)</span> to <span class="math inline">\(6\)</span> since all wights <span class="math inline">\(p_i\)</span> are <span class="math inline">\(1/6\)</span>. Convince yourself that this can be easily calculated using the function <tt>mean()</tt> which computes the arithmetic mean of a numeric vector.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">mean</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)</code></pre></div>
<pre><code>## [1] 3.5</code></pre>
<p>An example of sampling with replacement is rolling a die three times in a row.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set random seed for reproducibility</span>
<span class="kw">set.seed</span>(<span class="dv">1</span>)

<span class="co"># rolling a die three times in a row</span>
<span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, <span class="dv">3</span>, <span class="dt">replace =</span> T)</code></pre></div>
<pre><code>## [1] 2 3 4</code></pre>
<p>Of course we could also consider a much bigger number of trials, <span class="math inline">\(10000\)</span> say. Doing so, it would be pointless to simply print the results to the console: by default <tt>R</tt> displays up to <span class="math inline">\(1000\)</span> entries of large vectors and omits the remainder (give it a go). Eyeballing the numbers does not reveal too much. Instead let us calculate the sample average of the outcomes using <tt>mean()</tt> and see if the result comes close to the expected value <span class="math inline">\(E(D)=3.5\)</span>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># set random seed for reproducibility</span>
<span class="kw">set.seed</span>(<span class="dv">1</span>)

<span class="co"># compute the sample mean of 10000 die rolls</span>
<span class="kw">mean</span>(
    <span class="kw">sample</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>, 
           <span class="dv">10000</span>, 
           <span class="dt">replace =</span> T
           )
    )</code></pre></div>
<pre><code>## [1] 3.5039</code></pre>
<p>We find the sample mean to be fairly close to the expected value. This result will be discussed in Chapter <a href="RSATDOSA.html#RSATDOSA">2.3</a> in more detail.</p>
<p>Other frequently encountered measures are the variance and the standard deviation. Both are measures of the <em>dispersion</em> of a random variable.</p>
<div class="keyconcept">
<h3 class="right">
Key Concept 2.2
</h3>
<h3 class="left">
Variance and Standard Deviation
</h3>
<p>
The Variance of the discrete random variable <span class="math inline">\(Y\)</span>, denoted <span class="math inline">\(\sigma^2_Y\)</span>, is <span class="math display">\[ \sigma^2_Y = \text{Var}(Y) = E\left[(Y-\mu_y)^2\right] = \sum_{i=1}^k (y_i - \mu_y)^2 p_i \]</span> The standard deviation of <span class="math inline">\(Y\)</span> is <span class="math inline">\(\sigma_Y\)</span>, the square root of the variance. The units of the standard deviation are the same as the units of <span class="math inline">\(Y\)</span>.
</p>
</div>
<p>The variance as defined in Key Concept 2.2 <em>is not</em> implemented as a function in R. Instead we have the function <tt>var()</tt> which computes the <em>sample variance</em></p>
<p><span class="math display">\[ s^2_Y = \frac{1}{n-1} \sum_{i=1}^n (y_i - \overline{y})^2. \]</span></p>
<p>Remember that <span class="math inline">\(s^2_Y\)</span> is different from the so called <em>population variance</em> of <span class="math inline">\(Y\)</span>,</p>
<p><span class="math display">\[ \text{Var}(Y) = \frac{1}{N} \sum_{i=1}^N (y_i - \mu_Y)^2, \]</span></p>
<p>since it measures how the data is dispersed around the sample average <span class="math inline">\(\overline{y}\)</span> instead of the population mean <span class="math inline">\(\mu_Y\)</span>. This becomes clear when we look at our die rolling example. For <span class="math inline">\(D\)</span> we have</p>
<p><span class="math display">\[ \text{Var}(D) = 1/6 \sum_{i=1}^6 (d_i - 3.5)^2 = 2.92  \]</span> which is obviously different from the result of <span class="math inline">\(s^2\)</span> as computed by <tt>var()</tt>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">var</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">6</span>)</code></pre></div>
<pre><code>## [1] 3.5</code></pre>
<p>The sample variance as computed by <tt>var()</tt> is an <em>estimator</em> of the population variance.</p>


<div data-datacamp-exercise data-lang="r">

<code data-type="sample-code">
# You may use this widget to play around with the functions presented above
</code>

</div>


</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="pt.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="probability-distributions-of-continuous-random-variables.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 1
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02-ch2.Rmd",
"text": "Edit"
},
"download": ["URFITE.pdf"],
"toc": {
"collapse": "subsection",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
