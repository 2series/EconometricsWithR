<!DOCTYPE html>
      <head>
<meta charset='utf-8'/>
<script async='async' src='https://cdn.datacamp.com/dcl-react-dev.js.gz'></script>
<style>
.DCexercise .datacamp-exercise {
     border: 2px solid #3D678D;
     border-radius: 10px 10px 10px 10px !important;
     }

     *[class*="lm_"], .ace_gutter, textarea[class*="ace_"], .ace_scroller {
     background-color: #F0EFF0 !important;
     }

     div[class*="Editor-module__editor"], div[class*="dcl__Footer"] {
     background-color: #3D678D !important; 
     } 

     *[class*="lm_"] {
     border-radius: 10px 10px 0px 0px !important;
     }

     div[class*="dcl__Footer"] {
     border-radius: 0px 0px 10px 10px !important;
     }

     .lm_content {
     border-radius: 0px !important;
     }

     .lm_splitter {
     background-color: #3D678D !important; 
     width: 3px !important;
     }

     .lm_drag_handle {
     background: transparent !important;
     }

     div[class*="dcl__index-module"] {
     outline-color: transparent !important;
     border-radius: 10px !important;
     }

     button[class*="secondary-light"] {
     background-color: #FF0000;
     }
</style>
      </head>
      <body>
      <div data-datacamp-exercise data-lang='r' data-height =320>  <code data-type="pre-exercise-code">
  set.seed(1)
  
  </code>
  <code data-type="sample-code">
  # run the simulation study
  n       <- c(100, 1000, 10000)
  tstats  <- matrix(nrow = 1000, ncol = 3)
  
  
  
  
  
  
  
  
  
  # compute the fraction exceeding the absolute value of 1.96
  
  
  </code>
  <code data-type="solution">
  # run the simulation study
  n       <- c(100, 1000, 10000)
  tstats  <- matrix(nrow = 1000, ncol = 3)
  for(i in 1:3){
    for(j in 1:1000){
      rw1   <- cumsum(rnorm(n[i]))
      rw2   <- cumsum(rnorm(n[i]))
      sr    <- lm(rw2 ~ rw1)
      tstats[j, i] <- summary(sr)$coef[2, 3]
    }
  }
  
  # compute the fraction exceeding the absolute value of 1.96
  apply(abs(tstats) > 1.96, MARGIN = 2, FUN = sum)/nrow(tstats)
  
  </code>
  <code data-type="sct">
  test_predefined_objects("n")
  test_predefined_objects("tstats")
  ex() %>% check_object("tstats") %>% check_equal()
  ex() %>% check_output_expr("apply(abs(tstats) > 1.96, MARGIN = 2, FUN = sum)/nrow(tstats)")
  success_msg("Correct! We see that for increasing sample sizes the fraction gets closer to 1, that is, we reject the null more frequently. Or put differently, in the majority of the cases the regression model finds a relationship that, by construction, should not exist.")
  </code></div>
      </body>
      </html>